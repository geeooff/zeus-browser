$(document).ready(function(){function e(){t.length>0&&$.ajax({"dataType":"html","url":"?fullcarthtml","success":function(e,a,r){t.html(e)},"error":function(e,a,t){console.error("".concat("Impossible de récupérer le fragment HTML complet du panier (",a,", ",t,")"))}}),r.length>0&&$.ajax({"dataType":"html","url":"?lightcarthtml","success":function(e,a,t){r.html(e)},"error":function(e,a,t){console.error("".concat("Impossible de récupérer le fragment HTML léger du panier (",a,", ",t,")"))}})}var a=$(".cart"),t=a.filter(".cart-full"),r=a.filter(".cart-light");$("[data-toggle='tooltip']").tooltip(),$("a.btn.emptycart").on("click",function(a){var t=$(this);return t.addClass("active").prop("disabled",!0),!!confirm("Etes-vous sûr de vouloir vider votre panier ?")&&($.ajax({"dataType":"json","url":t.attr("href"),"success":function(a,t,r){e()},"error":function(e,a,t){window.alert("".concat("Impossible de vider le panier (",a,", ",t,")."))},"complete":function(e,a){t.removeClass("active").prop("disabled",!1)}}),void a.preventDefault())}),$("a.btn.addtocart").on("click",function(a){var t=$(this);t.addClass("active").prop("disabled",!0),$.ajax({"dataType":"json","url":t.attr("href"),"success":function(a,r,s){2==a&&window.alert("Cet élement est déjà dans le panier."),$("i.fa",t).removeClass("fa-shopping-cart").addClass("fa-check"),e()},"error":function(e,a,t){window.alert("".concat("Impossible d'ajouter l'élément au panier (",a,", ",t,")."))},"complete":function(e,a){t.removeClass("active").prop("disabled",!1)}}),a.preventDefault()}),$("a.btn.removefromcart").on("click",function(a){var t=$(this);t.addClass("active").prop("disabled",!0),$.ajax({"dataType":"json","url":t.attr("href"),"success":function(a,r,s){a==-1&&window.alert("Cet élement fait partie d'un dossier parent déjà ajouté au panier. Il ne peut être retiré individuellement."),$("i.fa",t).removeClass("fa-shopping-cart").addClass("fa-check"),e()},"error":function(e,a,t){window.alert("".concat("Impossible d'ajouter l'élément au panier (",a,", ",t,")."))},"complete":function(e,a){t.removeClass("active").prop("disabled",!1)}}),a.preventDefault()}),$(".mediainfo").each(function(e){var a=$(this),t=a.is("pre")?"text":"html";$.ajax({"dataType":t,"url":"?mediainfo&format="+t,"success":function(e,r,s){a.removeClass("text-danger"),"html"===t?a.html(e):a.text(e)},"error":function(e,t,r){var s=e.responseText||t;window.alert("".concat("Impossible de récupérer les infos du média (",s,").")),a.text(s).addClass("text-danger")}})}),$("select.ratio").on("change",function(e){var a=$(this),t=$(".embed-responsive");switch(a.val()){case"auto":t.removeClass("embed-responsive-4by3 embed-responsive-16by9").addClass("embed-responsive-auto");break;case"16by9":t.removeClass("embed-responsive-auto embed-responsive-4by3").addClass("embed-responsive-16by9");break;case"4by3":t.removeClass("embed-responsive-auto embed-responsive-16by9").addClass("embed-responsive-4by3")}}),$("select.ssl").on("change",function(e){var a=$(this),t=$("#player"),r=a.val();t.is("video")?($('source[type^="video"]',t).attr("src",r),t.each(function(e){this.load()})):t.is("audio")&&($('source[type^="audio"]',t).attr("src",r),t.each(function(e){this.load()}))}),$("#dir").DataTable({"info":!1,"paging":!1,"searching":!1,"processing":!1,"stateSave":!0,"stateDuration":0,"columnDefs":[{"targets":[0,2,3],"searchable":!1},{"targets":[4],"orderable":!1,"searchable":!1}],"order":[[1,"asc"]]})});
//# sourceMappingURL=main.min.js.map
